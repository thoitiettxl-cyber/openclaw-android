#!/usr/bin/env bash
# systemctl - Termux stub (systemd unavailable)
# Intercepts restart calls and triggers openclaw reload via config.patch (SIGUSR1)

for arg in "$@"; do
    if [ "$arg" = "restart" ]; then
        openclaw gateway config.patch \
            "{\"meta\":{\"restartNonce\":\"$(date +%s%N)\"}}" \
            2>/dev/null || true
        exit 0
    fi
done

exit 0
